{"version":3,"sources":["webpack:///./src/components/rank/rank.vue?9b85","webpack:///./src/api/rank.js?0518","webpack:///./src/components/rank/rank.vue","webpack:///rank.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","data","topList","_l","item","key","id","on","click","$event","selectItem","directives","name","rawName","value","expression","width","height","_v","song","index","_s","songname","singername","length","staticRenderFns","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","commonParams","uin","needNewCode","platform","jsonp","options","topid","tpl","page","type","__webpack_require__","Component","__webpack_exports__","mixins","__WEBPACK_IMPORTED_MODULE_5_common_js_mixin__","created","_getTopList","methods","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","handlePlaylist","playlist","bottom","$refs","rank","style","toplist","refresh","_this","i","__WEBPACK_IMPORTED_MODULE_1_api_rank__","then","res","code","__WEBPACK_IMPORTED_MODULE_2_api_config__","$router","push","path","setTopList","__WEBPACK_IMPORTED_MODULE_6_vuex__","components","Scroll","__WEBPACK_IMPORTED_MODULE_3_base_scroll_scroll___default","a","Loading","__WEBPACK_IMPORTED_MODULE_4_base_loading_loading___default"],"mappings":"uCAAAA,EAAAC,SAAgBC,OAAA,WAAmB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAC1E,OAAAE,EAAA,OACAE,IAAA,OACAC,YAAA,SACGH,EAAA,UACHE,IAAA,UACAC,YAAA,UACAC,OACAC,KAAAT,EAAAU,WAEGN,EAAA,KAAAJ,EAAAW,GAAAX,EAAA,iBAAAY,GACH,OAAAR,EAAA,MACAS,IAAAD,EAAAE,GACAP,YAAA,OACAQ,IACAC,MAAA,SAAAC,GACA,OAAAjB,EAAAkB,WAAAN,OAGKR,EAAA,OACLG,YAAA,SACKH,EAAA,OACLe,aACAC,KAAA,OACAC,QAAA,SACAC,MAAAV,EAAA,OACAW,WAAA,gBAEAf,OACAgB,MAAA,MACAC,OAAA,WAEKzB,EAAA0B,GAAA,KAAAtB,EAAA,MACLG,YAAA,YACKP,EAAAW,GAAAC,EAAA,kBAAAe,EAAAC,GACL,OAAAxB,EAAA,MACAS,IAAAe,EAAA,IACArB,YAAA,SACOH,EAAA,QAAAJ,EAAA0B,GAAA1B,EAAA6B,GAAAD,EAAA,MAAA5B,EAAA0B,GAAA,KAAAtB,EAAA,QAAAJ,EAAA0B,GAAA1B,EAAA6B,GAAAF,EAAAG,UAAA,IAAA9B,EAAA6B,GAAAF,EAAAI,mBACF,OACF,GAAA/B,EAAA0B,GAAA,KAAAtB,EAAA,OACHe,aACAC,KAAA,OACAC,QAAA,SACAC,OAAAtB,EAAAU,QAAAsB,OACAT,WAAA,oBAEAhB,YAAA,sBACGH,EAAA,iBAAAJ,EAAA0B,GAAA,KAAAtB,EAAA,oBACF6B,2DC9CM,WACN,IAEMxB,EAAOyB,OAAkBC,KAC5BC,IAAK,EACLC,YAAa,EACbC,SAAU,OAGZ,OAAOC,SARI,qDAQO9B,EAAM+B,UAGnB,SAAsBC,GAC3B,IAEMhC,EAAOyB,OAAkBC,KAC7BM,QACAJ,YAAa,EACbD,IAAK,EACLM,IAAK,EACLC,KAAM,SACNC,KAAM,MACNN,SAAU,OAGZ,OAAOC,SAZK,sDAYM9B,EAAM+B,6EC1B1BK,EAAQ,QAER,IAAAC,EAAgBD,EAAQ,OAARA,CAEdA,EAAQ,QAERA,EAAQ,QAEV,kBAEA,MAGAhD,EAAAC,QAAAgD,EAAAhD,+MCiBAiD,EAAA,SACAC,QAAAC,EAAA,GACAxC,KAFA,WAGA,OACAC,aAGAwC,QAPA,WAQAjD,KAAAkD,eAEAC,QAAAC,KACAC,eADA,SACAC,GACA,IAAAC,EAAAD,EAAAvB,OAAA,WACA/B,KAAAwD,MAAAC,KAAAC,MAAAH,SACAvD,KAAAwD,MAAAG,QAAAC,WAEAV,YANA,WAMA,IAAAW,EAAA7D,KACG4C,EAAAkB,EAAAC,EAAA,EAAAnB,GAAHoB,KAAA,SAAAC,GACAA,EAAAC,OAAAC,EAAA,IAEAN,EAAApD,QAAAwD,EAAAzD,KAAAC,YAIAQ,WAdA,SAcAN,GACAX,KAAAoE,QAAAC,MACAC,KAAA,SAAA3D,EAAAE,KAEAb,KAAAuE,WAAA5D,KAEAiC,EAAAkB,EAAAU,EAAA,EAAA5B,EACA2B,WAAA,kBAGAE,YACAC,OAAAC,EAAAC,EACAC,QAAAC,EAAAF","file":"static/js/6.4802c6a450d5bc730c49.js","sourcesContent":["module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"rank\",\n    staticClass: \"rank\"\n  }, [_c('scroll', {\n    ref: \"toplist\",\n    staticClass: \"toplist\",\n    attrs: {\n      \"data\": _vm.topList\n    }\n  }, [_c('ul', _vm._l((_vm.topList), function(item) {\n    return _c('li', {\n      key: item.id,\n      staticClass: \"item\",\n      on: {\n        \"click\": function($event) {\n          return _vm.selectItem(item)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"icon\"\n    }, [_c('img', {\n      directives: [{\n        name: \"lazy\",\n        rawName: \"v-lazy\",\n        value: (item.picUrl),\n        expression: \"item.picUrl\"\n      }],\n      attrs: {\n        \"width\": \"100\",\n        \"height\": \"100\"\n      }\n    })]), _vm._v(\" \"), _c('ul', {\n      staticClass: \"songlist\"\n    }, _vm._l((item.songList), function(song, index) {\n      return _c('li', {\n        key: index + 1000,\n        staticClass: \"song\"\n      }, [_c('span', [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(song.songname) + \"-\" + _vm._s(song.singername))])])\n    }), 0)])\n  }), 0), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.topList.length),\n      expression: \"!topList.length\"\n    }],\n    staticClass: \"loading-container\"\n  }, [_c('loading')], 1)]), _vm._v(\" \"), _c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-106fcaa0\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/rank/rank.vue\n// module id = /tUp\n// module chunks = 6","import jsonp from 'common/js/jsonp'\nimport {commonParams, options} from './config'\n\nexport function getTopList() {\n\tconst url = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg'\n\n\tconst data = Object.assign({}, commonParams, {\n    uin: 0,\n    needNewCode: 1,\n    platform: 'h5'\n  })\n\n  return jsonp(url, data, options)\n}\n\nexport function getMusicList(topid) {\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\n\n  const data = Object.assign({}, commonParams, {\n    topid,\n    needNewCode: 1,\n    uin: 0,\n    tpl: 3,\n    page: 'detail',\n    type: 'top',\n    platform: 'h5'\n  })\n\n  return jsonp(url, data, options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/rank.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-106fcaa0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./rank.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./rank.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-106fcaa0\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./rank.vue\"),\n  /* scopeId */\n  \"data-v-106fcaa0\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/rank/rank.vue\n// module id = Kjo5\n// module chunks = 6","<template>\n\t<div class=\"rank\" ref=\"rank\">\n\t\t<scroll :data=\"topList\" class=\"toplist\" ref=\"toplist\">\n\t\t\t<ul>\n\t\t\t\t<li class=\"item\" v-for=\"item in topList\" :key=\"item.id\" @click=\"selectItem(item)\">\n\t\t\t\t\t<div class=\"icon\">\n\t\t\t\t\t\t<img width=\"100\" height=\"100\" v-lazy=\"item.picUrl\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul class=\"songlist\">\n\t\t\t\t\t\t<li class=\"song\" v-for=\"(song, index) in item.songList\" :key=\"index + 1000\">\n\t\t\t\t\t\t\t<span>{{index + 1}}</span>\n\t\t\t\t\t\t\t<span>{{song.songname}}-{{song.singername}}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class=\"loading-container\" v-show=\"!topList.length\">\n\t\t\t\t<loading></loading>\n\t\t\t</div>\n\t\t</scroll>\n\t\t<router-view></router-view>\n\t</div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n\timport {getTopList} from 'api/rank'\n\timport {ERR_OK} from 'api/config'\n\timport Scroll from 'base/scroll/scroll'\n\timport Loading from 'base/loading/loading'\n\timport {playlistMixin} from 'common/js/mixin'\n\timport {mapMutations} from 'vuex'\n\n\texport default {\n\t\tmixins: [playlistMixin],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttopList: []\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis._getTopList()\n\t\t},\n\t\tmethods: {\n\t\t\thandlePlaylist(playlist) {\n        const bottom = playlist.length > 0 ? '60px' : 0\n        this.$refs.rank.style.bottom = bottom\n        this.$refs.toplist.refresh()\n      },\n\t\t\t_getTopList() {\n\t\t\t\tgetTopList().then((res) => {\n\t\t\t\t\tif (res.code === ERR_OK) {\n\t\t\t\t\t\t// console.log(res.data.topList)\n\t\t\t\t\t\tthis.topList = res.data.topList\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tselectItem(item) {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: `/rank/${item.id}`\n\t\t\t\t})\n\t\t\t\tthis.setTopList(item)\n\t\t\t},\n\t\t\t...mapMutations({\n\t\t\t\tsetTopList: 'SET_TOP_LIST'\n\t\t\t})\n\t\t},\n\t\tcomponents: {\n\t\t\tScroll,\n\t\t\tLoading\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n\t@import \"~common/stylus/variable\"\n\t@import \"~common/stylus/mixin\"\n\n\t.rank\n\t\tposition: fixed\n\t\twidth: 100%\n\t\ttop: 88px\n\t\tbottom: 0\n\t\t.toplist\n\t\t\theight: 100%\n\t\t\toverflow: hidden\n\t\t\t.item\n\t\t\t\tdisplay: flex\n\t\t\t\tmargin: 0 20px\n\t\t\t\tpadding-top: 20px\n\t\t\t\theight: 100px\n\t\t\t\t&:last-child\n\t\t\t\t\tpadding-bottom: 20px\n\t\t\t\t.icon\n\t\t\t\t\tflex: 0 0 100px\n\t\t\t\t\twidth: 100px\n\t\t\t\t\theight: 100px\n\t\t\t\t.songlist\n\t\t\t\t\tflex: 1\n\t\t\t\t\tdisplay: flex\n\t\t\t\t\tflex-direction: column\n\t\t\t\t\tjustify-content: center\n\t\t\t\t\tpadding: 0 20px\n\t\t\t\t\theight: 100px\n\t\t\t\t\toverflow: hidden\n\t\t\t\t\tbackground: $color-highlight-background\n\t\t\t\t\tcolor: $color-text-d\n\t\t\t\t\tfont-size: $font-size-small\n\t\t\t\t\t.song\n\t\t\t\t\t\tno-wrap()\n\t\t\t\t\t\tline-height: 26px\n\t\t\t.loading-container\n\t\t\t\tposition: absolute\n\t\t\t\twidth: 100%\n\t\t\t\ttop: 50%\n\t\t\t\ttransform: translateY(-50%)\n</style>\n\n\n// WEBPACK FOOTER //\n// rank.vue?27521f69"],"sourceRoot":""}