{"version":3,"sources":["webpack:///disc.vue","webpack:///./src/components/disc/disc.vue","webpack:///./src/components/disc/disc.vue?69c1","webpack:///./src/api/recommend.js?9b8d"],"names":["__webpack_exports__","data","songs","computed","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","title","this","disc","dissname","bgImage","imgurl","__webpack_require__","i","__WEBPACK_IMPORTED_MODULE_2_vuex__","created","_getDiscSongList","methods","_this","dissid","$router","push","__WEBPACK_IMPORTED_MODULE_3_api_recommend__","then","res","temp","_normalizeSongs","songlist","list","ret","forEach","musicData","id","album","__WEBPACK_IMPORTED_MODULE_4_common_js_song__","components","MusicList","__WEBPACK_IMPORTED_MODULE_1_components_music_list_music_list___default","a","Component","module","exports","render","_h","$createElement","_c","_self","attrs","name","staticRenderFns","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","commonParams","platform","uin","needNewCode","jsonp","options","categoryId","sortId","pageSize","page","axios","get","params","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","url"],"mappings":"8MAaAA,EAAA,SACAC,KADA,WAEA,OACAC,WAGAC,SAAAC,KACAC,MADA,WAEA,OAAAC,KAAAC,KAAAC,UAEAC,QAJA,WAKA,OAAAH,KAAAC,KAAAG,SAEAC,EAAAC,EAAAC,EAAA,EAAAF,EACA,UAGAG,QAjBA,WAkBAR,KAAAS,oBAEAC,SACAD,iBADA,WACA,IAAAE,EAAAX,KACAA,KAAAC,KAAAW,QACAZ,KAAAa,QAAAC,KAAA,cAEGT,EAAAC,EAAAS,EAAA,EAAAV,CAAHL,KAAAC,KAAAW,QAAAI,KAAA,SAAAC,GAGA,IAAAC,EAAAP,EAAAQ,gBAAAF,EAAAtB,KAAA,GAAAyB,UAWAT,EAAAf,MAAAsB,KAGAC,gBAtBA,SAsBAE,GACA,IAAAC,KAaA,OAZAD,EAAAE,QAAA,SAAAC,GACAA,EAAAC,IAAAD,EAAAE,MAAAD,IAEAH,EAAAR,KAAAT,EAAAC,EAAAqB,EAAA,EAAAtB,CAAAmB,EAAA,UASAF,IAGAM,YACAC,UAAAC,EAAAC,0BCvEA1B,EAAQ,QAER,IAAA2B,EAAgB3B,EAAQ,OAARA,CAEdA,EAAQ,QAERA,EAAQ,QAEV,kBAEA,MAGA4B,EAAAC,QAAAF,EAAAE,4BCfAD,EAAAC,SAAgBC,OAAA,WAAmB,IAAaC,EAAbpC,KAAaqC,eAA0BC,EAAvCtC,KAAuCuC,MAAAD,IAAAF,EAC1E,OAAAE,EAAA,cACAE,OACAC,KAAA,WAEGH,EAAA,cACHE,OACAzC,MAPmCC,KAOnCD,MACAI,QARmCH,KAQnCG,QACAP,MATmCI,KASnCJ,UAEG,IACF8C,2DCRM,WACN,IAEM/C,EAAOgD,OAAkBC,KAC9BC,SAAU,KACVC,IAAK,EACLC,YAAa,IAGd,OAAOC,SARK,qEAQMrD,EAAMsD,UA2BlB,WAEN,IAEMtD,EAAOgD,WACZO,WAAY,IACZC,OAAQ,EACRC,SAAU,GACVC,KAAM,IAGP,OAAOC,IAAMC,IATD,wDAUXC,OAAQ7D,IACNqB,KAAK,SAACC,GACR,OAAOwC,EAAA1B,EAAQ2B,QAAQzC,EAAItB,aAMtB,SAAyBiB,GAG/B,IAAM+C,6CAAiD/C,EAGvD,OAAO0C,IAAMC,IAAII,GAChBH,OAAQ,KACNxC,KAAK,SAACC,GAKR,OAAOwC,EAAA1B,EAAQ2B,QAAQzC,EAAItB","file":"static/js/4.33acb3ad01aaf51e7e46.js","sourcesContent":["<template>\n\t<transition name=\"slide\">\n\t\t<music-list :title=\"title\" :bgImage=\"bgImage\" :songs=\"songs\"></music-list>\n\t</transition>\n</template>\n\n<script type=\"text/ecmascript-6\">\n\timport MusicList from 'components/music-list/music-list'\n\timport {mapGetters} from 'vuex'\n\timport {getDiscSongList} from 'api/recommend'\n\t// import {getSongmp3, createSong, jqueryUrl} from 'common/js/song'\n\timport {createSong} from 'common/js/song'\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsongs: []\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\ttitle() {\n\t\t\t\treturn this.disc.dissname\n\t\t\t},\n\t\t\tbgImage() {\n\t\t\t\treturn this.disc.imgurl\n\t\t\t},\n\t\t\t...mapGetters([\n\t\t\t\t'disc'\n\t\t\t])\n\t\t},\n\t\tcreated() {\n\t\t\tthis._getDiscSongList()\n\t\t},\n\t\tmethods: {\n\t\t\t_getDiscSongList() {\n\t\t\t\tif (!this.disc.dissid) {\n\t\t\t\t\tthis.$router.push('/recommend')\n\t\t\t\t}\n\t\t\t\tgetDiscSongList(this.disc.dissid).then((res) => {\n\t\t\t\t\t// console.log(res.data[0].songlist)\n\t\t\t\t\t// this.songs = this._normalizeSongs(res.data[0].songlist)\n\t\t\t\t\tlet temp = this._normalizeSongs(res.data[0].songlist)\n\t\t\t\t\t\t// let r = []\n\t\t\t\t\t\t// setTimeout(() => {\n\t\t\t\t\t\t// \t\ttemp.sort((a, b) => {\n\t\t\t\t\t\t// \t\t\treturn b.id - a.id\n\t\t\t\t\t\t// \t\t})\n\t\t\t\t\t\t// }, 500)\n\t\t\t\t\t\t// setTimeout(() => {\n\t\t\t\t\t\t// \t// console.log(r)\n\t\t\t\t\t\t// \tthis.songs = temp\n\t\t\t\t\t\t// }, 1000)\n\t\t\t\t\t\tthis.songs = temp\n\t\t\t\t})\n\t\t\t},\n\t\t\t_normalizeSongs(list) {\n\t\t\t\tlet ret = []\n\t\t\t\tlist.forEach((musicData) => {\n\t\t\t\t\tif (musicData.id && musicData.album.id) {\n\t\t\t\t\t\t// ret.push(createSong(musicData, 'www.baidu.com'))\n\t\t\t\t\t\tret.push(createSong(musicData, '', true))\n\t\t\t\t\t\t// getSongmp3(musicData.mid).then((res) => {\n\t\t\t\t\t\t// \tlet urlObject = jqueryUrl(res.data[0])\n\t\t\t\t\t\t// \tif (urlObject.vkey) {\n\t\t\t\t\t\t// \t\tret.push(createSong(musicData, res.data[0], true))\n\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t// })\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn ret\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tMusicList\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .slide-enter-active, .slide-leave-active\n    transition: all 0.3s\n\n  .slide-enter, .slide-leave-to\n    transform: translate3d(100%, 0, 0)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// disc.vue?979ee706","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-ec111780\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./disc.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./disc.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ec111780\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./disc.vue\"),\n  /* scopeId */\n  \"data-v-ec111780\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/disc/disc.vue\n// module id = NSSj\n// module chunks = 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"slide\"\n    }\n  }, [_c('music-list', {\n    attrs: {\n      \"title\": _vm.title,\n      \"bgImage\": _vm.bgImage,\n      \"songs\": _vm.songs\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ec111780\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/disc/disc.vue\n// module id = SYJn\n// module chunks = 4","import jsonp from 'common/js/jsonp'\nimport {commonParams, options} from './config'\nimport axios from 'axios'\n\nexport function getRecommend() {\n\tconst url = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\n\n\tconst data = Object.assign({}, commonParams, {\n\t\tplatform: 'h5',\n\t\tuin: 0,\n\t\tneedNewCode: 1\n\t})\n\n\treturn jsonp(url, data, options)\n}\n\n// axios请求\n// export function getDiscList() {\n// \t// const url = 'https://c.y.qq.com/splcloud/fcgi-bin/fcg_get_diss_by_tag.fcg'\n// \tconst url = '/api/getDiscList'\n\n// \tconst data = Object.assign({}, commonParams, {\n// \t\tplatform: 'yqq',\n// \t\thostUin: 0,\n// \t\tsin: 0,\n// \t\tein: 29,\n// \t\tsortId: 5,\n// \t\tneedNewCode: 0,\n// \t\tcategoryid: 10000000,\n// \t\trnd: Math.random(),\n// \t\tformat: 'json'\n// \t})\n\n// \treturn axios.get(url, {\n// \t\tparams: data\n// \t}).then((res) => {\n// \t\treturn Promise.resolve(res.data)\n// \t})\n// }\n\nexport function getDiscListHot() {\n\t// const url = 'https://v1.itooi.cn/tencent/songList/hot'\n\tconst url = 'https://v1.itooi.cn/tencent/songList/hot?pageSize=60'\n\n\tconst data = Object.assign({}, {}, {\n\t\tcategoryId: 10000000,\n\t\tsortId: 5,\n\t\tpageSize: 10,\n\t\tpage: 1\n\t})\n\n\treturn axios.get(url, {\n\t\tparams: data\n\t}).then((res) => {\n\t\treturn Promise.resolve(res.data)\n\t})\n\n\t// return jsonp(url, data, {})\n}\n\nexport function getDiscSongList(dissid) {\n\t// console.log(2222)\n\t// const url = `https://v1.itooi.cn/tencent/url?id=${songId},001fXNWa3t8EQQ&quality=ape`\n\tconst url = `https://v1.itooi.cn/tencent/songList?id=${dissid}`\n\t// const url = `https://v1.itooi.cn/tencent/url?id=${songId}&quality=flac`\n\t// const url = `https://v1.itooi.cn/tencent/url?id=${songId},001fXNWa3t8EQQ&quality=320`\n\treturn axios.get(url, {\n\t\tparams: ''\n\t}).then((res) => {\n\t\t// console.log(1)\n\t\t// console.log(res.data)\n\t\t// console.log(2)\n\t\t// return res.data.data[0]\n\t\treturn Promise.resolve(res.data)\n\t})\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/recommend.js"],"sourceRoot":""}