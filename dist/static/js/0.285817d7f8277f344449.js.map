{"version":3,"sources":["webpack:///./src/components/music-list/music-list.vue?8acb","webpack:///music-list.vue","webpack:///./src/components/music-list/music-list.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","back","_v","domProps","innerHTML","_s","title","ref","style","directives","name","rawName","value","songs","length","expression","random","attrs","probe-type","probeType","listen-scroll","listenScroll","data","scroll","rank","select","selectItem","staticRenderFns","transform","__webpack_require__","i","__WEBPACK_IMPORTED_MODULE_3_common_js_dom__","backdrop","__webpack_exports__","mixins","__WEBPACK_IMPORTED_MODULE_6_common_js_mixin__","props","bgImage","type","String","default","Array","Boolean","scrollY","created","computed","bgStyle","mounted","imageHeight","$refs","clientHeight","minTranslateY","list","$el","top","methods","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","handlePlaylist","playlist","bottom","refresh","randomPlay","pos","y","$router","item","index","selectPlay","__WEBPACK_IMPORTED_MODULE_5_vuex__","watch","newY","zIndex","translateY","Math","max","scale","blur","layer","percent","abs","min","filter","paddingTop","height","RESERVED_HEIGHT","playBtn","display","components","Scroll","__WEBPACK_IMPORTED_MODULE_1_base_scroll_scroll___default","a","SongList","__WEBPACK_IMPORTED_MODULE_2_base_song_list_song_list___default","Loading","__WEBPACK_IMPORTED_MODULE_4_base_loading_loading___default","Component"],"mappings":"qCAAAA,EAAAC,SAAgBC,OAAA,WAAmB,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAC1E,OAAAE,EAAA,OACAE,YAAA,eACGF,EAAA,OACHE,YAAA,OACAC,IACAC,MAAAR,EAAAS,QAEGL,EAAA,KACHE,YAAA,gBACGN,EAAAU,GAAA,KAAAN,EAAA,MACHE,YAAA,QACAK,UACAC,UAAAZ,EAAAa,GAAAb,EAAAc,UAEGd,EAAAU,GAAA,KAAAN,EAAA,OACHW,IAAA,UACAT,YAAA,WACAU,MAAAhB,EAAA,UACGI,EAAA,OACHE,YAAA,iBACGF,EAAA,OACHa,aACAC,KAAA,OACAC,QAAA,SACAC,MAAApB,EAAAqB,MAAAC,OAAA,EACAC,WAAA,qBAEAR,IAAA,UACAT,YAAA,OACAC,IACAC,MAAAR,EAAAwB,UAEGpB,EAAA,KACHE,YAAA,cACGN,EAAAU,GAAA,KAAAN,EAAA,QACHE,YAAA,SACGN,EAAAU,GAAA,gBAAAV,EAAAU,GAAA,KAAAN,EAAA,OACHW,IAAA,SACAT,YAAA,aACGN,EAAAU,GAAA,KAAAN,EAAA,OACHW,IAAA,QACAT,YAAA,aACGN,EAAAU,GAAA,KAAAN,EAAA,UACHW,IAAA,OACAT,YAAA,OACAmB,OACAC,aAAA1B,EAAA2B,UACAC,gBAAA5B,EAAA6B,aACAC,KAAA9B,EAAAqB,OAEAd,IACAwB,OAAA/B,EAAA+B,UAEG3B,EAAA,OACHE,YAAA,sBACGF,EAAA,aACHqB,OACAJ,MAAArB,EAAAqB,MACAW,KAAAhC,EAAAgC,MAEAzB,IACA0B,OAAAjC,EAAAkC,eAEG,GAAAlC,EAAAU,GAAA,KAAAN,EAAA,OACHa,aACAC,KAAA,OACAC,QAAA,SACAC,OAAApB,EAAAqB,MAAAC,OACAC,WAAA,kBAEAjB,YAAA,sBACGF,EAAA,sBACF+B,oOCnCDC,EAAAC,EAAAC,EAAAC,EAAA,EAAAF,CAAA,aACAG,EAAAH,EAAAC,EAAAC,EAAA,EAAAF,CAAA,mBACAI,EAAA,SACAC,QAAAC,EAAA,GACAC,OACAC,SACAC,KAAAC,OACAC,QAAA,IAEA3B,OACAyB,KAAAG,MACAD,QAAA,sBAEAlC,OACAgC,KAAAC,OACAC,QAAA,IAEAhB,MACAc,KAAAI,QACAF,SAAA,IAGAlB,KApBA,WAqBA,OACAqB,QAAA,IAGAC,QAzBA,WA0BAnD,KAAA0B,UAAA,EACA1B,KAAA4B,cAAA,GAGAwB,UACAC,QADA,WAGA,8BAAArD,KAAA4C,QAAA,MAGAU,QApCA,WAsCAtD,KAAAuD,YAAAvD,KAAAwD,MAAAZ,QAAAa,aACAzD,KAAA0D,cA1CA,GA0CA1D,KAAAuD,YACAvD,KAAAwD,MAAAG,KAAAC,IAAA7C,MAAA8C,IAAA7D,KAAAuD,YAAA,MAGAO,QAAAC,KACAC,eADA,SACAC,GACA,IAAAC,EAAAD,EAAA5C,OAAA,WACArB,KAAAwD,MAAAG,KAAAC,IAAA7C,MAAAmD,SACAlE,KAAAwD,MAAAG,KAAAQ,WAEA5C,OANA,WAOAvB,KAAAoE,YACAT,KAAA3D,KAAAoB,SAGAU,OAXA,SAWAuC,GACArE,KAAAkD,QAAAmB,EAAAC,GAEA9D,KAdA,WAeAR,KAAAuE,QAAA/D,QAEAyB,WAjBA,SAiBAuC,EAAAC,GACAzE,KAAA0E,YACAf,KAAA3D,KAAAoB,MACAqD,YAGArC,EAAAC,EAAAsC,EAAA,EAAAvC,EACA,aACA,gBAGAwC,OACA1B,QADA,SACA2B,GACA,IAAAC,EAAA,EACAC,EAAAC,KAAAC,IAAAjF,KAAA0D,cAAAmB,GACAK,EAAA,EACAC,EAAA,EAGAnF,KAAAwD,MAAA4B,MAAArE,MAAAoB,GAAA,kBAAA4C,EAAA,SACA,IAAAM,EAAAL,KAAAM,IAAAT,EAAA7E,KAAAuD,aACAsB,EAAA,GACAK,EAAA,EAAAG,EACAP,EAAA,IAEAK,EAAAH,KAAAO,IAAA,GAAAF,EAAA,IAIArF,KAAAwD,MAAAgC,OAAAzE,MAAAwB,GAAA,QAAA4C,EAAA,MACAN,EAAA7E,KAAA0D,eACAoB,EAAA,GACA9E,KAAAwD,MAAAZ,QAAA7B,MAAA0E,WAAA,EACAzF,KAAAwD,MAAAZ,QAAA7B,MAAA2E,OAAAC,OACA3F,KAAAwD,MAAAoC,QAAA7E,MAAA8E,QAAA,SAEA7F,KAAAwD,MAAAZ,QAAA7B,MAAA0E,WAAA,MACAzF,KAAAwD,MAAAZ,QAAA7B,MAAA2E,OAAA,EACA1F,KAAAwD,MAAAoC,QAAA7E,MAAA8E,QAAA,IAEA7F,KAAAwD,MAAAZ,QAAA7B,MAAA+D,SAGA9E,KAAAwD,MAAAZ,QAAA7B,MAAAoB,GAAA,SAAA+C,EAAA,MAGAY,YACAC,OAAAC,EAAAC,EACAC,SAAAC,EAAAF,EACAG,QAAAC,EAAAJ,iDCnJA7D,EAAQ,QAER,IAAAkE,EAAgBlE,EAAQ,OAARA,CAEdA,EAAQ,QAERA,EAAQ,QAEV,kBAEA,MAGAxC,EAAAC,QAAAyG,EAAAzG","file":"static/js/0.285817d7f8277f344449.js","sourcesContent":["module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"music-list\"\n  }, [_c('div', {\n    staticClass: \"back\",\n    on: {\n      \"click\": _vm.back\n    }\n  }, [_c('i', {\n    staticClass: \"icon-back\"\n  })]), _vm._v(\" \"), _c('h1', {\n    staticClass: \"title\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.title)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"bgImage\",\n    staticClass: \"bg-image\",\n    style: (_vm.bgStyle)\n  }, [_c('div', {\n    staticClass: \"play-wrapper\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.songs.length > 0),\n      expression: \"songs.length > 0\"\n    }],\n    ref: \"playBtn\",\n    staticClass: \"play\",\n    on: {\n      \"click\": _vm.random\n    }\n  }, [_c('i', {\n    staticClass: \"icon-play\"\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text\"\n  }, [_vm._v(\"随机播放全部\")])])]), _vm._v(\" \"), _c('div', {\n    ref: \"filter\",\n    staticClass: \"filter\"\n  })]), _vm._v(\" \"), _c('div', {\n    ref: \"layer\",\n    staticClass: \"bg-layer\"\n  }), _vm._v(\" \"), _c('scroll', {\n    ref: \"list\",\n    staticClass: \"list\",\n    attrs: {\n      \"probe-type\": _vm.probeType,\n      \"listen-scroll\": _vm.listenScroll,\n      \"data\": _vm.songs\n    },\n    on: {\n      \"scroll\": _vm.scroll\n    }\n  }, [_c('div', {\n    staticClass: \"song-list-wrapper\"\n  }, [_c('song-list', {\n    attrs: {\n      \"songs\": _vm.songs,\n      \"rank\": _vm.rank\n    },\n    on: {\n      \"select\": _vm.selectItem\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.songs.length),\n      expression: \"!songs.length\"\n    }],\n    staticClass: \"loading-container\"\n  }, [_c('loading')], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-77c0eaa0\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/music-list/music-list.vue\n// module id = AcHg\n// module chunks = 0","<template>\n\t<div class=\"music-list\">\n\t\t<div class=\"back\" @click=\"back\">\n\t\t\t<i class=\"icon-back\"></i>\n\t\t</div>\n\t\t<h1 class=\"title\" v-html=\"title\"></h1>\n\t\t<div class=\"bg-image\" :style=\"bgStyle\" ref=\"bgImage\">\n\t\t\t<div class=\"play-wrapper\">\n\t\t\t\t<div class=\"play\" v-show=\"songs.length > 0\" ref=\"playBtn\" @click=\"random\">\n\t\t\t\t\t<i class=\"icon-play\"></i>\n\t\t\t\t\t<span class=\"text\" >随机播放全部</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"filter\" ref=\"filter\">\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"bg-layer\" ref=\"layer\">\n\t\t</div>\n\t\t<scroll @scroll=\"scroll\" :probe-type=\"probeType\" :listen-scroll=\"listenScroll\" :data=\"songs\" class=\"list\" ref=\"list\">\n\t\t\t<div class=\"song-list-wrapper\">\n\t\t\t\t<song-list @select=\"selectItem\" :songs=\"songs\" :rank=\"rank\"></song-list>\n\t\t\t</div>\n\t\t\t<div class=\"loading-container\" v-show=\"!songs.length\">\n\t\t\t\t<loading></loading>\n\t\t\t</div>\n\t\t</scroll>\n\t</div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n\timport Scroll from 'base/scroll/scroll'\n\timport SongList from 'base/song-list/song-list'\n\timport {prefixStyle} from 'common/js/dom'\n\timport Loading from 'base/loading/loading'\n\timport {mapActions} from 'vuex'\n\timport {playlistMixin} from 'common/js/mixin'\n\n\tconst RESERVED_HEIGHT = 40\n\tconst transform = prefixStyle('transform')\n\tconst backdrop = prefixStyle('backdrop-filter')\n\texport default {\n\t\tmixins: [playlistMixin],\n\t\tprops: {\n\t\t\tbgImage: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\tsongs: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault: () => []\n\t\t\t},\n\t\t\ttitle: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: ''\n\t\t\t},\n\t\t\trank: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tscrollY: 0\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis.probeType = 3\n\t\t\tthis.listenScroll = true\n\t\t\t// console.log(this.bgImage)\n\t\t},\n\t\tcomputed: {\n\t\t\tbgStyle() {\n\t\t\t\t// console.log(this.bgImage)\n\t\t\t\treturn `background-image:url(${this.bgImage})`\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t// console.log(this.bgImage)\n\t\t\tthis.imageHeight = this.$refs.bgImage.clientHeight\n\t\t\tthis.minTranslateY = -this.imageHeight + RESERVED_HEIGHT\n\t\t\tthis.$refs.list.$el.style.top = `${this.imageHeight}px`\n\t\t\t// console.log(this.imageHeight)\n\t\t},\n\t\tmethods: {\n\t\t\thandlePlaylist(playlist) {\n\t\t\t\tconst bottom = playlist.length > 0 ? '60px' : 0\n\t\t\t\tthis.$refs.list.$el.style.bottom = bottom\n\t\t\t\tthis.$refs.list.refresh()\n\t\t\t},\n\t\t\trandom() {\n\t\t\t\tthis.randomPlay({\n\t\t\t\t\tlist: this.songs\n\t\t\t\t})\n\t\t\t},\n\t\t\tscroll(pos) {\n\t\t\t\tthis.scrollY = pos.y\n\t\t\t},\n\t\t\tback() {\n\t\t\t\tthis.$router.back()\n\t\t\t},\n\t\t\tselectItem(item, index) {\n\t\t\t\tthis.selectPlay({\n\t\t\t\t\tlist: this.songs,\n\t\t\t\t\tindex: index\n\t\t\t\t})\n\t\t\t},\n\t\t\t...mapActions([\n\t\t\t\t'selectPlay',\n\t\t\t\t'randomPlay'\n\t\t\t])\n\t\t},\n\t\twatch: {\n\t\t\tscrollY(newY) {\n\t\t\t\tlet zIndex = 0\n\t\t\t\tlet translateY = Math.max(this.minTranslateY, newY)\n\t\t\t\tlet scale = 1\n\t\t\t\tlet blur = 0\n\t\t\t\t// this.$refs.layer.style['transform'] = `translate3d(0, ${translateY}px, 0)`\n\t\t\t\t// this.$refs.layer.style['webkitTransform'] = `translate3d(0, ${translateY}px, 0)`\n\t\t\t\tthis.$refs.layer.style[transform] = `translate3d(0, ${translateY}px, 0)`\n\t\t\t\tconst percent = Math.abs(newY / this.imageHeight)\n\t\t\t\tif (newY > 0) {\n\t\t\t\t\tscale = 1 + percent\n\t\t\t\t\tzIndex = 10\n\t\t\t\t} else {\n\t\t\t\t\tblur = Math.min(20 * percent, 20)\n\t\t\t\t}\n\t\t\t\t// this.$refs.filter.style['backdrop-filter'] = `blur(${blur}px)`\n\t\t\t\t// this.$refs.filter.style['webkitBackdrop-filter'] = `blur(${blur}px)`\n\t\t\t\tthis.$refs.filter.style[backdrop] = `blur(${blur}px)`\n\t\t\t\tif (newY < this.minTranslateY) {\n\t\t\t\t\tzIndex = 10\n\t\t\t\t\tthis.$refs.bgImage.style.paddingTop = 0\n\t\t\t\t\tthis.$refs.bgImage.style.height = `${RESERVED_HEIGHT}px`\n\t\t\t\t\tthis.$refs.playBtn.style.display = 'none'\n\t\t\t\t} else {\n\t\t\t\t\tthis.$refs.bgImage.style.paddingTop = '70%'\n\t\t\t\t\tthis.$refs.bgImage.style.height = 0\n\t\t\t\t\tthis.$refs.playBtn.style.display = ''\n\t\t\t\t}\n\t\t\t\tthis.$refs.bgImage.style.zIndex = zIndex\n\t\t\t\t// this.$refs.bgImage.style['transform'] = `scale(${scale})`\n\t\t\t\t// this.$refs.bgImage.style['webkitTransform'] = `scale(${scale})`\n\t\t\t\tthis.$refs.bgImage.style[transform] = `scale(${scale})`\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tScroll,\n\t\t\tSongList,\n\t\t\tLoading\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n\t@import \"~common/stylus/variable\"\n\t@import \"~common/stylus/mixin\"\n\n\t.music-list\n\t\tposition: fixed\n\t\tz-index: 100\n\t\ttop: 0\n\t\tleft: 0\n\t\tbottom: 0\n\t\tright: 0\n\t\tbackground: $color-background\n\t\t.back\n\t\t\tposition absolute\n\t\t\ttop: 0\n\t\t\tleft: 6px\n\t\t\tz-index: 50\n\t\t\t.icon-back\n\t\t\t\tdisplay: block\n\t\t\t\tpadding: 10px\n\t\t\t\tfont-size: $font-size-large-x\n\t\t\t\tcolor: $color-theme\n\t\t.title\n\t\t\tposition: absolute\n\t\t\ttop: 0\n\t\t\tleft: 10%\n\t\t\tz-index: 40\n\t\t\twidth: 80%\n\t\t\tno-wrap()\n\t\t\ttext-align: center\n\t\t\tline-height: 40px\n\t\t\tfont-size: $font-size-large\n\t\t\tcolor: $color-text\n\t\t.bg-image\n\t\t\tposition: relative\n\t\t\twidth: 100%\n\t\t\theight: 0\n\t\t\tpadding-top: 70%\n\t\t\ttransform-origin: top\n\t\t\tbackground-size: cover\n\t\t\t.play-wrapper\n\t\t\t\tposition: absolute\n\t\t\t\tbottom: 20px\n\t\t\t\tz-index: 50\n\t\t\t\twidth: 100%\n\t\t\t\t.play\n\t\t\t\t\tbox-sizing: border-box\n\t\t\t\t\twidth: 135px\n\t\t\t\t\tpadding: 7px 0\n\t\t\t\t\tmargin: 0 auto\n\t\t\t\t\ttext-align: center\n\t\t\t\t\tborder: 1px solid $color-theme\n\t\t\t\t\tcolor: $color-theme\n\t\t\t\t\tborder-radius: 100px\n\t\t\t\t\tfont-size: 0\n\t\t\t\t\t.icon-play\n\t\t\t\t\t\tdisplay: inline-block\n\t\t\t\t\t\tvertical-align: middle\n\t\t\t\t\t\tmargin-right: 6px\n\t\t\t\t\t\tfont-size: $font-size-medium-x\n\t\t\t\t\t.text\n\t\t\t\t\t\tdisplay: inline-block\n\t\t\t\t\t\tvertical-align: middle\n\t\t\t\t\t\tfont-size: $font-size-small\n\t\t\t.filter\n\t\t\t\tposition: absolute\n\t\t\t\ttop: 0\n\t\t\t\tleft: 0\n\t\t\t\twidth: 100%\n\t\t\t\theight: 100%\n\t\t\t\tbackground: rgba(7, 17, 27, 0.4)\n\t\t.bg-layer\n\t\t\tposition: relative\n\t\t\theight: 100%\n\t\t\tbackground: $color-background\n\t\t.list\n\t\t\tposition: fixed\n\t\t\ttop: 0\n\t\t\tbottom: 0\n\t\t\twidth: 100%\n\t\t\tbackground: $color-background\n\t\t\t.song-list-wrapper\n\t\t\t\tpadding: 20px 30px\n\t\t\t.loading-container\n\t\t\t\tposition: absolute\n\t\t\t\twidth: 100%\n\t\t\t\ttop: 50%\n\t\t\t\ttransform: translateY(-50%)\n</style>\n\n\n// WEBPACK FOOTER //\n// music-list.vue?284ad733","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-77c0eaa0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./music-list.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./music-list.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77c0eaa0\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./music-list.vue\"),\n  /* scopeId */\n  \"data-v-77c0eaa0\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/music-list/music-list.vue\n// module id = kvay\n// module chunks = 0"],"sourceRoot":""}