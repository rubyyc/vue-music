{"version":3,"sources":["webpack:///singer-detail.vue","webpack:///./src/components/singer-detail/singer-detail.vue?7551","webpack:///./src/api/singer.js?4a09","webpack:///./src/components/singer-detail/singer-detail.vue"],"names":["__webpack_exports__","data","songs","computed","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","title","this","singer","name","bgImage","avatar","__webpack_require__","i","__WEBPACK_IMPORTED_MODULE_1_vuex__","created","_getDetail","methods","_this","id","__WEBPACK_IMPORTED_MODULE_2_api_singer__","then","res","code","__WEBPACK_IMPORTED_MODULE_3_api_config__","_normalizeSongs","list","$router","push","ret","forEach","item","musicData","songid","albummid","__WEBPACK_IMPORTED_MODULE_4_common_js_song__","findIndex","console","log","components","MusicList","__WEBPACK_IMPORTED_MODULE_5_components_music_list_music_list___default","a","module","exports","render","_h","$createElement","_c","_self","attrs","appear","bg-image","staticRenderFns","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","commonParams","channel","page","key","pagesize","pagenum","hostUin","needNewCode","platform","g_tk","jsonp","options","singerId","order","begin","num","songstatus","singermid","Component"],"mappings":"qMAcAA,EAAA,SACAC,KADA,WAEA,OACAC,WAIAC,SAAAC,KACAC,MADA,WAEA,OAAAC,KAAAC,OAAAC,MAEAC,QAJA,WAKA,OAAAH,KAAAC,OAAAG,SAEAC,EAAAC,EAAAC,EAAA,EAAAF,EACA,YAGAG,QAlBA,WAmBAR,KAAAS,cAGAC,SACAD,WADA,WACA,IAAAE,EAAAX,KACAA,KAAAC,OAAAW,GAIGP,EAAAC,EAAAO,EAAA,EAAAR,CAAHL,KAAAC,OAAAW,IAAAE,KAAA,SAAAC,GACAA,EAAAC,OAAAC,EAAA,IAIAN,EAAAf,MAAAe,EAAAO,gBAAAH,EAAApB,KAAAwB,SARAnB,KAAAoB,QAAAC,KAAA,YAwDAH,gBA3DA,SA2DAC,GACA,IAAAG,KA0BA,OAzBAH,EAAAI,QAAA,SAAAC,GAAA,IACAC,EAAAD,EAAAC,UAEAA,EAAAC,QAAAD,EAAAE,UAUAL,EAAAD,KAAAhB,EAAAC,EAAAsB,EAAA,EAAAvB,CAAAoB,EAAA,OAYAH,GAEAO,UAxFA,SAwFAV,EAAAO,GACA,OAAAP,EAAAU,UAAA,SAAAL,GAGA,OADAM,QAAAC,IAAAP,GACAA,EAAAZ,KAAAc,MAIAM,YACAC,UAAAC,EAAAC,6CCrIAC,EAAAC,SAAgBC,OAAA,WAAmB,IAAaC,EAAbvC,KAAawC,eAA0BC,EAAvCzC,KAAuC0C,MAAAD,IAAAF,EAC1E,OAAAE,EAAA,cACAE,OACAzC,KAAA,QACA0C,OAAA,MAEGH,EAAA,cACHE,OACA/C,MARmCI,KAQnCJ,MACAG,MATmCC,KASnCD,MACA8C,WAVmC7C,KAUnCG,YAEG,IACF2C,6DCVM,WACN,IAEMnD,EAAOoD,OAAkBC,KAC9BC,QAAS,SACTC,KAAM,OACNC,IAAK,cACLC,SAAU,IACVC,QAAS,EACTC,QAAS,EACTC,YAAa,EACbC,SAAU,MACVC,KAAM,aAGP,OAAOC,SAdK,uCAcM/D,EAAMgE,UAGlB,SAAyBC,GAC/B,IACMjE,EAAOoD,OAAkBC,KAC9BM,QAAS,EACTC,YAAa,EACbC,SAAU,MACVK,MAAO,SACPC,MAAO,EACPC,IAAK,IACLC,WAAY,EACZC,UAAWL,EACXH,KAAM,aAGP,OAAOC,SAbK,2DAaM/D,EAAMgE,6ECjCzBtD,EAAQ,QAER,IAAA6D,EAAgB7D,EAAQ,OAARA,CAEdA,EAAQ,QAERA,EAAQ,QAEV,kBAEA,MAGA+B,EAAAC,QAAA6B,EAAA7B","file":"static/js/3.7a65e50528b9775f9124.js","sourcesContent":["<template>\n\t<transition name=\"slide\" appear>\n\t\t<music-list :songs=\"songs\" :title=\"title\" :bg-image=\"bgImage\"></music-list>\n\t</transition>\n</template>\n\n<script type=\"text/ecmascript-6\">\n\timport {mapGetters} from 'vuex'\n\timport {getSingerDetail} from 'api/singer'\n\timport {ERR_OK} from 'api/config'\n\t// import {createSong, getSongmp3, jqueryUrl} from 'common/js/song'\n\timport {createSong} from 'common/js/song'\n\timport MusicList from 'components/music-list/music-list'\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsongs: []\n\t\t\t\t// sortSongs: []\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\ttitle() {\n\t\t\t\treturn this.singer.name\n\t\t\t},\n\t\t\tbgImage() {\n\t\t\t\treturn this.singer.avatar\n\t\t\t},\n\t\t\t...mapGetters([\n\t\t\t\t'singer'\n\t\t\t])\n\t\t},\n\t\tcreated() {\n\t\t\tthis._getDetail()\n\t\t\t// console.log(this.singer)\n\t\t},\n\t\tmethods: {\n\t\t\t_getDetail() {\n\t\t\t\tif (!this.singer.id) {\n\t\t\t\t\tthis.$router.push('/singer')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tgetSingerDetail(this.singer.id).then((res) => {\n\t\t\t\t\tif (res.code === ERR_OK) {\n\t\t\t\t\t\t// this.songs =res.data.list\n\t\t\t\t\t\t// console.log(res.data.list)\n\t\t\t\t\t\t// this._normalizeSongs(res.data.list)\n\t\t\t\t\t\tthis.songs = this._normalizeSongs(res.data.list)\n\t\t\t\t\t\t// setTimeout(() => {\n\t\t\t\t\t\t// \t// console.log(r)\n\t\t\t\t\t\t// \tthis.songs = temp\n\t\t\t\t\t\t// }, 1000)\n\t\t\t\t\t\t// let temp = this._normalizeSongs(res.data.list)\n\t\t\t\t\t\t// // let r = []\n\t\t\t\t\t\t// setTimeout(() => {\n\t\t\t\t\t\t// \t\ttemp.sort((a, b) => {\n\t\t\t\t\t\t// \t\t\treturn b.id - a.id\n\t\t\t\t\t\t// \t\t})\n\t\t\t\t\t\t// }, 600)\n\t\t\t\t\t\t// setTimeout(() => {\n\t\t\t\t\t\t// \t// console.log(r)\n\t\t\t\t\t\t// \tthis.songs = temp\n\t\t\t\t\t\t// }, 2000)\n\t\t\t\t\t\t// setTimeout(() => {\n\t\t\t\t\t\t// \t// this.songs = this._normalizeSongs(res.data.list)\n\t\t\t\t\t\t// \t// console.log(temp)\n\t\t\t\t\t\t// \t// temp.forEach((item) => {\n\t\t\t\t\t\t// \t// \tlet {musicData} = item\n\t\t\t\t\t\t// \t// \tconsole.log(musicData)\n\t\t\t\t\t\t// \t// })\n\t\t\t\t\t\t// \tsetTimeout(() => {\n\t\t\t\t\t\t// \t\ttemp.sort((a, b) => {\n\t\t\t\t\t\t// \t\t\treturn b.id - a.id\n\t\t\t\t\t\t// \t\t\t// console.log()\n\t\t\t\t\t\t// \t\t\t// console.log(9999)\n\t\t\t\t\t\t// \t\t})\n\t\t\t\t\t\t// \t\t// console.log(66666661)\n\t\t\t\t\t\t// \t\t// console.log(r)\n\t\t\t\t\t\t// \t\t// console.log(66666662)\n\t\t\t\t\t\t// \t}, 1000)\n\t\t\t\t\t\t// \tsetTimeout(() => {\n\t\t\t\t\t\t// \t\t// console.log(r)\n\t\t\t\t\t\t// \t\tthis.songs = temp\n\t\t\t\t\t\t// \t}, 1500)\n\t\t\t\t\t\t// }, 1000)\n\t\t\t\t\t\t// console.log(this.songs.length)\n\t\t\t\t\t\t// console.log(temp)\n\t\t\t\t\t\t// temp.forEach((item) => {\n\t\t\t\t\t\t// \tlet {musicData} = item\n\t\t\t\t\t\t// \tconsole.log(musicData)\n\t\t\t\t\t\t// })\n\t\t\t\t\t\t// console.log(3333)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t_normalizeSongs(list) {\n\t\t\t\tlet ret = []\n\t\t\t\tlist.forEach((item) => {\n\t\t\t\t\tlet {musicData} = item\n\t\t\t\t\t// console.log(item)\n\t\t\t\t\tif (musicData.songid && musicData.albummid) {\n\t\t\t\t\t\t// ret.push(createSong(musicData, 'www.baidu.com'))\n\t\t\t\t\t\t// let song = createSong(musicData, '')\n\t\t\t\t\t\t// getSongmp3(musicData.songmid).then((res) => {\n\t\t\t\t\t\t// \t// let urlObject = this.jqueryUrl(res.data[0])\n\t\t\t\t\t\t// \tlet urlObject = jqueryUrl(res.data[0])\n\t\t\t\t\t\t// \tif (urlObject.vkey) {\n\t\t\t\t\t\t// \t\tret.push(createSong(musicData, res.data[0]))\n\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t// })\n\t\t\t\t\t\tret.push(createSong(musicData, ''))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// this.sortSongs = ret\n\t\t\t\t// console.log(this.sortSongs.length)\n\t\t\t\t// this.$nextTick(() => {\n\t\t\t\t// \tconsole.log(this.sortSongs.length)\n\t\t\t\t// })\n\t\t\t\t// console.log(1200)\n\t\t\t\t// ret.forEach((item) => {\n\t\t\t\t// \tconsole.log(100)\n\t\t\t\t// })\n\t\t\t\treturn ret\n\t\t\t},\n\t\t\tfindIndex(list, songid) {\n\t\t\t\treturn list.findIndex((item) => {\n\t\t\t\t\t// console.log('test111')\n\t\t\t\t\tconsole.log(item)\n\t\t\t\t\treturn item.id === songid\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tMusicList\n\t\t}\n\t}\n\n</script>\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n\t@import \"~common/stylus/variable\"\n\n\t// .singer-detail\n\t// \tposition: fixed\n\t// \tz-index: 100\n\t// \ttop: 0\n\t// \tleft: 0\n\t// \tright: 0\n\t// \tbottom: 0\n\t// \tbackground: $color-background\n\t.slide-enter-active, .slide-leave-active\n\t\ttransition: all 0.3s\n\t.slide-enter, .slide-leave-to\n\t\ttransform: translate3d(100%, 0, 0)\n\t// .slide-enter-active, .slide-leave-active\n\t// \ttransition: all 3s\n\n\t// .slide-enter\n\t// \ttransform: translate3d(-100%, 0, 0)\n\t// .slide-leave-to\n\t// \ttransform: translate3d(100%, 0, 0)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// singer-detail.vue?1438e794","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"slide\",\n      \"appear\": \"\"\n    }\n  }, [_c('music-list', {\n    attrs: {\n      \"songs\": _vm.songs,\n      \"title\": _vm.title,\n      \"bg-image\": _vm.bgImage\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-89caf134\",\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/singer-detail/singer-detail.vue\n// module id = K91J\n// module chunks = 3","import jsonp from 'common/js/jsonp'\nimport {commonParams, options} from './config'\n\nexport function getSingerList() {\n\tconst url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\n\n\tconst data = Object.assign({}, commonParams, {\n\t\tchannel: 'singer',\n\t\tpage: 'list',\n\t\tkey: 'all_all_all',\n\t\tpagesize: 100,\n\t\tpagenum: 1,\n\t\thostUin: 0,\n\t\tneedNewCode: 0,\n\t\tplatform: 'yqq',\n\t\tg_tk: 1664029744\n\t})\n\n\treturn jsonp(url, data, options)\n}\n\nexport function getSingerDetail(singerId) {\n\tconst url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\n\tconst data = Object.assign({}, commonParams, {\n\t\thostUin: 0,\n\t\tneedNewCode: 0,\n\t\tplatform: 'yqq',\n\t\torder: 'listen',\n\t\tbegin: 0,\n\t\tnum: 100,\n\t\tsongstatus: 1,\n\t\tsingermid: singerId,\n\t\tg_tk: 1664029744\n\t})\n\n\treturn jsonp(url, data, options)\n}\n\n// 获取歌曲的vkey\n// export function getSongVkey(songmid) {\n// \tconst url = 'https://c.y.qq.com/base/fcgi-bin/fcg_music_express_mobile3.fcg'\n// \tconst data = Object.assign({}, {\n// \t\t\tcallback: 'musicJsonCallback',\n// \t\t\tloginUin: 3051522991,\n// \t\t\tformat: 'jsonp',\n// \t\t\tplatform: 'yqq',\n// \t\t\tneedNewCode: 0,\n// \t\t\tcid: 205361747,\n// \t\t\tuin: 3051522991,\n// \t\t\tguid: 5931742855,\n// \t\t\tsongmid: songmid,\n// \t\t\tfilename: `C400${songmid}.m4a`\n// \t})\n\n// \treturn jsonp(url, data)\n// }\n\n\n// WEBPACK FOOTER //\n// ./src/api/singer.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-89caf134\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./singer-detail.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./singer-detail.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-89caf134\\\",\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./singer-detail.vue\"),\n  /* scopeId */\n  \"data-v-89caf134\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/singer-detail/singer-detail.vue\n// module id = lEJ1\n// module chunks = 3"],"sourceRoot":""}